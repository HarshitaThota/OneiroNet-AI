
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Oneironet ‚Ä¢ Dream Interpreter</title>

  <!-- Tailwind (CDN JIT) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Dreamy, clean font -->
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script>
    /* set Manrope as the default font */
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Manrope', 'ui-sans-serif', 'system-ui'] },
        }
      }
    }
  </script>

  <style>
    /* pastel wash (keep your clouds SVG if you want) */
    .sky {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;          /* behind .page (which has z-index:10) */
  pointer-events: none;
}



    /* .dream-bg {
  background:
    radial-gradient(60% 60% at 12% 8%, rgba(108, 162, 255, 0.9), transparent 75%),
    radial-gradient(70% 70% at 85% 20%, rgba(184,154,255,.45), transparent 80%),
    radial-gradient(30% 30% at 50% 90%, rgba(36, 116, 201, 0.46), transparent 85%);
  animation: wash 22s ease-in-out infinite alternate;
}

    @keyframes wash {
      0% { background-position: 0% 0%, 100% 0%, 50% 100%; }
      100% { background-position: 8% 6%, 92% 10%, 56% 94%; }
    } */
     .dream-bg{
  /* soft base so transparent spots aren‚Äôt white */
  background:
    radial-gradient(130% 110% at -5% 50%, rgba(150,180,255,.28), transparent 55%), /* L-side vignette */
    radial-gradient(70% 70%   at 18% 28%, rgba(168,154,255,.35), transparent 62%), /* L/upper bloom */
    radial-gradient(85% 85%   at 78% 20%, rgba(137,195,255,.30), transparent 60%), /* R/upper bloom */
    radial-gradient(95% 90%   at 52% 96%, rgba(120,165,255,.25), transparent 64%), /* bottom glow */
    linear-gradient(180deg, #EFF4FF 0%, #E9F0FF 60%, #E5ECFF 100%);
  animation: wash 22s ease-in-out infinite alternate;
}
@keyframes wash{
  0%   { background-position: 0% 0%, 18% 28%, 78% 20%, 52% 96%, 0% 0%; }
  100% { background-position: 6% 4%, 22% 32%, 74% 16%, 56% 94%, 0% 0%; }
}



.cloud-fill { 
  fill: #f0f4ff;   /* soft bluish white */
  opacity: 0.95;
  filter: drop-shadow(0 20px 40px rgba(120,140,255,0.6));
}
.cloud-fill2 { 
  fill: #dde6ff;
  opacity: 0.9;
  filter: drop-shadow(0 15px 30px rgba(108, 185, 72, 0.5));
}


  @keyframes driftA { from { transform: translateX(-25%);} to { transform: translateX(110%);} }
  @keyframes driftB { from { transform: translateX(-20%);} to { transform: translateX(115%);} }
  @keyframes driftC { from { transform: translateX(-30%);} to { transform: translateX(120%);} }

.c1 { animation: driftA 120s linear infinite; }
.c2 { animation: driftB 160s linear infinite; }
.c3 { animation: driftC 200s linear infinite; }

  .page { position: relative; z-index: 10; }
    /* section cards: light, glassy */
    /* .card { background: rgba(218, 173, 235, 0.52); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); } */
.card {
  background: linear-gradient(
    135deg,
    rgba(218, 139, 232, 0.64),   /* soft lavender */
    rgba(167, 156, 234, 0.63)    /* soft teal */
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-radius: 1rem; /* optional: keep rounded */
}

    /* cute gradient underline under the H1 */
    .title-underline {
      height: 4px; border-radius: 9999px;
      background: linear-gradient(90deg,#a5b4fc, #f0abfc, #93c5fd);
      opacity:.9;
    }





    /* Keep Vanta canvas behind everything */
#hero { position: relative; }
#hero canvas.vanta-canvas {
  position: absolute !important;
  inset: 0;
  z-index: 0 !important;
}

/* Overlay sits above canvas but below text */
#hero .hero-overlay { z-index: 10; }

/* Text sits above both */
#hero .hero-content { z-index: 20; position: relative; }

/* Optional: subtle readability boost for headings */
#hero .hero-content h1,
#hero .hero-content h2 {
  text-shadow: 0 2px 12px rgba(0,0,0,.18);
}

  </style>
</head>


<body class="min-h-screen font-sans text-slate-800 dream-bg">
  <!-- HERO: full-screen animated background -->
  <!-- <section id="hero" class="relative h-[100svh] flex items-center justify-center overflow-hidden">
    <div class="relative z-10 text-center px-6">
      <h1 class="text-5xl md:text-6xl font-semibold tracking-tight">Oneironet</h1>
      <h2 class="text-5xl md:text-xl tracking-tight">Multi-Lens Dream Interpretation, Reimagined with AI</h1>

      <p class="mt-3 text-slate-700 text-lg md:text-xl max-w-2xl mx-auto">
From Jung to Vedic to Surrealist, Oneironet lets AI agents offer you multiple ways to understand your night‚Äôs journey.      </p>
      <a href="#app" class="inline-block mt-6 rounded-xl px-5 py-3 bg-sky-500 hover:bg-sky-400 text-white">Start Interpreting</a>
    </div>

    <div class="pointer-events-none absolute inset-0 bg-gradient-to-b from-white/60 via-transparent to-white/60"></div> -->
<section id="hero" class="relative h-[100svh] flex items-center justify-center overflow-hidden">
  <!-- Content on top of the animation -->
  <div class="hero-content relative z-10 text-center px-6">
    <h1 class="text-5xl md:text-6xl font-semibold tracking-tight">Oneironet</h1>
    <h2 class="text-5xl md:text-xl tracking-tight">Multi-Lens Dream Interpretation, Reimagined with AI</h2>
    <p class="mt-3 text-slate-700 text-lg md:text-xl max-w-2xl mx-auto">
      From Jung to Vedic to Surrealist, Oneironet lets AI agents offer you multiple ways to understand your night‚Äôs journey.
    </p>
    <a href="#app" class="inline-block mt-6 rounded-xl px-5 py-3 bg-sky-500 hover:bg-sky-400 text-white">Start Interpreting</a>
  </div>

  <!-- Subtle overlay to keep text readable -->
  <div class="hero-overlay pointer-events-none absolute inset-0 bg-gradient-to-b from-white/40 via-transparent to-white/40"></div>

    <!-- Scroll cue -->
    <button
      onclick="document.getElementById('app').scrollIntoView({behavior:'smooth'})"
      class="absolute bottom-6 left-1/2 -translate-x-1/2 text-slate-700/80 hover:text-slate-900 transition"
      aria-label="Scroll to app">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
           stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 9l6 6 6-6"></path>
      </svg>
    </button>
  </section>

  <!-- Your existing content starts here -->
  <div id="app" class="page max-w-7xl mx-auto px-6 py-10">

  <!-- Inline SVG cloud layer -->
  <svg class="sky" viewBox="0 0 100 100" preserveAspectRatio="none">
    <defs>
      <g id="cloud">
        <ellipse cx="20" cy="18" rx="12" ry="7" class="cloud-fill"/>
        <ellipse cx="30" cy="16" rx="10" ry="6" class="cloud-fill"/>
        <ellipse cx="40" cy="18" rx="13" ry="8" class="cloud-fill"/>
        <rect x="18" y="18" width="26" height="8" rx="4" class="cloud-fill"/>
      </g>
    </defs>

    <!-- Top row -->
    <g class="c1" style="transform-box: fill-box; transform-origin: 0 0;">
      <use href="#cloud" x="-30" y="12"/>
      <use href="#cloud" x="15"  y="11" transform="scale(1.1)"/>
      <use href="#cloud" x="60"  y="12" transform="scale(0.95)"/>
      <use href="#cloud" x="105" y="10" transform="scale(1.05)"/>
    </g>

    <!-- Mid row -->
    <g class="c2" style="transform-box: fill-box; transform-origin: 0 0;">
      <use href="#cloud" x="-28" y="40" transform="scale(1.2)"/>
      <use href="#cloud" x="22"  y="39" transform="scale(0.98)"/>
      <use href="#cloud" x="72"  y="41" transform="scale(1.12)"/>
      <use href="#cloud" x="112" y="40" transform="scale(1.0)"/>
    </g>

    <!-- Bottom row -->
    <g class="c3" style="transform-box: fill-box; transform-origin: 0 0;">
      <use href="#cloud" x="-35" y="72" transform="scale(1.06)"/>
      <use href="#cloud" x="18"  y="73" transform="scale(1.18)"/>
      <use href="#cloud" x="64"  y="71" transform="scale(0.96)"/>
      <use href="#cloud" x="108" y="74" transform="scale(1.08)"/>
    </g>
  </svg>
  <!-- ‚Ä¶then your existing <div class="page ..."> content -->

  <div class="page max-w-7xl mx-auto px-6 py-10">
    <!-- Header -->
    <header class="text-center mb-8">
      <h1 class="text-4xl font-semibold tracking-tight">Oneironet</h1>
      <p class="mt-2 text-slate-600 text-base">Multi-Lens Dream Interpretation, Reimagined with AI</p>
      <div class="title-underline w-40 mx-auto mt-3"></div>
    </header>

    <!-- 3-column layout -->
    <main class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-start">
      <!-- LEFT: Moon + Tips + Morning Ritual -->
<aside class="space-y-6 order-2 lg:order-1">
  <section class="card rounded-2xl p-4 ring-1 ring-white/40 shadow-sm">
    <h3 class="font-semibold mb-2">Moon</h3>
    <p id="moon" class="text-sm text-slate-700">‚Äî</p>
  </section>

  <section class="card rounded-2xl p-4 ring-1 ring-white/40 shadow-sm">
    <details class="group">
      <summary class="flex items-center justify-between cursor-pointer select-none">
        <span class="font-semibold">Lucid Tips</span>
        <span class="text-slate-500 text-sm group-open:rotate-90 transition-transform">‚Ä∫</span>
      </summary>
      <ul class="list-disc list-inside text-slate-700 text-sm space-y-1 mt-3">
        <li>Keep a bedside dream journal; write 1‚Äì2 lines on waking.</li>
        <li>Do 3 daily reality checks (read text twice; look at hands; pinch nose & try to breathe).</li>
        <li>Sleep hygiene: consistent times, dark/cool room, limit screens pre-sleep.</li>
        <li>Try WBTB weekly: wake ~5 hours in, read dreams, back to sleep.</li>
      </ul>
    </details>
  </section>

  <!-- üí´ Morning Ritual now lives here -->
  <section class="card rounded-2xl p-4 ring-1 ring-white/40 shadow-sm">
    <details class="group">
      <summary class="flex items-center justify-between cursor-pointer select-none">
        <span class="font-semibold">Morning Ritual</span>
        <span class="text-slate-500 text-sm group-open:rotate-90 transition-transform">‚Ä∫</span>
      </summary>
      <div class="mt-3">
        <div class="flex gap-2 mb-2">
          <label for="dtype" class="sr-only">Dream type</label>
          <select id="dtype" class="rounded-xl p-2 bg-white/70 ring-1 ring-white/60">
            <option value="unknown">Select type‚Ä¶</option>
            <option>nightmare</option>
            <option>flying</option>
            <option>prophetic</option>
          </select>
          <button id="ritGo" class="rounded-xl px-3 bg-slate-800 text-white hover:bg-slate-700">Suggest</button>
        </div>
        <div id="ritOut" class="text-sm text-slate-800 space-y-1"></div>
      </div>
    </details>
  </section>
    <section class="card rounded-2xl p-4 ring-1 ring-white/40 shadow-sm">
    <h3 class="font-semibold mb-2">Dream Vibe Visualizer</h3>
    <canvas id="vibe" width="380" height="160" class="w-full rounded-xl ring-1 ring-white/50"></canvas>
    <p class="text-xs text-slate-600 mt-2">An abstract gradient from your dream‚Äôs emotion words.</p>
  </section>
</aside>


      <!-- CENTER: Dream input (full card, centered) -->
<section class="order-1 lg:order-2 lg:col-span-2">
  <div class="card rounded-2xl p-6 ring-1 ring-white/40 shadow-sm">
          <label class="block text-sm text-slate-600 mb-2">Tell us your dream‚Ä¶</label>
          <textarea id="dream" rows="6"
            class="w-full rounded-xl p-3 bg-white/70 ring-1 ring-white/60 focus:ring-2 focus:ring-indigo-300 outline-none"
            placeholder="I was walking through a forest of mirrors‚Ä¶"></textarea>

          <div class="grid sm:grid-cols-4 gap-3 mt-3">
  <input id="date" type="date"
    class="rounded-xl p-3 bg-white/70 ring-1 ring-white/60 focus:ring-2 focus:ring-indigo-300"
    placeholder="Date of dream" title="Date of dream"/>
  
  <input id="sign" type="text"
    class="rounded-xl p-3 bg-white/70 ring-1 ring-white/60 focus:ring-2 focus:ring-indigo-300"
    placeholder="Sun sign (optional)"/>

  <!-- üí° New dropdown -->
 <label for="lens" class="sr-only">Choose interpretation lens</label>
<select id="lens"
  class="rounded-xl p-3 bg-white/70 ring-1 ring-white/60 focus:ring-2 focus:ring-indigo-300">
  <option value="jungian">Jungian</option>
  <option value="vedic">Vedic</option>
  <option value="astrologer">Astrologer</option>
  <option value="surrealist">Surrealist</option>
</select>


  <button id="go"
    class="rounded-xl px-4 py-3 bg-sky-500 hover:bg-sky-400 text-white font-medium">
    Interpret
  </button>
</div>


          <details class="mt-3">
            <summary class="cursor-pointer text-slate-700">Optional context</summary>
            <div class="grid sm:grid-cols-2 gap-3 mt-2">
              <input id="stressors" class="rounded-xl p-3 bg-white/70 ring-1 ring-white/60" placeholder="Recent stressors"/>
              <input id="uponwake" class="rounded-xl p-3 bg-white/70 ring-1 ring-white/60" placeholder="Feelings upon waking"/>
            </div>
          </details>
        </div>

        <!-- Results -->
<!-- WIDE Results (replace your current #results) -->
<section id="results" class="mt-6 hidden lg:col-span-2">
  <!-- Follow-ups -->
  

  <!-- Interpretation (one lens), wide + two columns on lg -->
  <div class="card rounded-2xl p-6 ring-1 ring-white/40 shadow-sm">
    <div class="flex items-center justify-between gap-3 mb-3">
      <h3 class="font-semibold">
        <span id="resultTitle">Interpretation</span>
        <span class="ml-2 text-xs px-2 py-1 rounded-full bg-white/60 text-slate-700 align-middle" id="lensPill">‚Äî</span>
      </h3>

      <!-- small actions (optional) -->
      <div class="flex gap-2">
        <button id="copyInterp" class="text-xs rounded-lg px-3 py-1 bg-white/70 hover:bg-white/80 ring-1 ring-white/60">Copy</button>
        <button id="downloadInterp" class="text-xs rounded-lg px-3 py-1 bg-white/70 hover:bg-white/80 ring-1 ring-white/60">Download</button>
      </div>
    </div>

    <!-- wider text, split into two columns on large screens -->
    <div id="interp"
         class="text-slate-800 whitespace-pre-wrap leading-relaxed text-[15px] md:text-base lg:columns-2 lg:gap-10">
    </div>
  </div>
  <div class="card rounded-2xl p-5 ring-1 ring-white/40 shadow-sm mb-4">
    <h3 class="font-semibold mb-2">Follow-up Journal Prompts</h3>
    <p id="followup" class="text-slate-800 whitespace-pre-wrap"></p>
  </div>
</section>


    </main>

   <footer class="text-slate-500 text-xs mt-10 text-center">
  Privacy-first: Oneironet stores nothing. Sessions are ephemeral.<br>
  Interpretations are for curiosity and creative reflection only ‚Äî not medical or psychological advice.
</footer>

  </div>
</body>


<script>
const $ = sel => document.querySelector(sel);

function hueFromString(s){
  let h = 0;
  for (let i=0;i<s.length;i++) h = (h*31 + s.charCodeAt(i)) >>> 0;
  return h % 360; // 0..359
}

function toRGB(h, s=70, l=55){
  // tiny HSL‚ÜíRGB
  s/=100; l/=100;
  const k = n => (n + h/30) % 12;
  const a = s * Math.min(l,1-l);
  const f = n => l - a * Math.max(-1, Math.min(k(n)-3, Math.min(9-k(n),1)));
  return `rgb(${Math.round(255*f(0))},${Math.round(255*f(8))},${Math.round(255*f(4))})`;
}

function emotionColors(text){
  const lex = {
    // positive
    calm: ['calm','peace','serene','soothe','still','safe','relief'],
    joy: ['joy','happy','bliss','delight','playful','excited','euphoric'],
    love: ['love','affection','tender','warm','care','compassion'],
    awe:  ['awe','wonder','vast','cosmic','sublime','mystical','sacred'],
    curious: ['curious','interest','intrigue','explore','discover'],
    // mixed/neutral
    confusion: ['confused','lost','uncertain','maze','fog','puzzle'],
    // negative
    fear: ['fear','scared','afraid','terror','panic','nightmare','chase'],
    anxious: ['anxious','worry','nervous','uneasy','stress','tension'],
    anger: ['anger','angry','rage','irritated','furious','frustrated'],
    grief: ['sad','grief','loss','lonely','cry','mourning','hurt'],
  };

  const words = (text.toLowerCase().match(/[a-z]+/g) || []);
  const hits = [];

  for (const [k, arr] of Object.entries(lex)) {
    if (words.some(w => arr.includes(w))) hits.push(k);
  }

  // map emotions ‚Üí base hues
  const baseHue = {
    calm: 170, joy: 130, love: 330, awe: 220, curious: 200,
    confusion: 270, fear: 0, anxious: 45, anger: 8, grief: 210
  };

  if (hits.length) {
    const hues = hits.map(k => baseHue[k]);
    // spread to 2‚Äì4 colors
    const hs = [hues[0], hues[1] ?? (hues[0]+40)%360, hues[2] ?? (hues[0]+80)%360];
    return hs.map(h => toRGB(h));
  }

  // Fallback: derive hues from text so it ALWAYS changes
  const h1 = hueFromString(text||'oneiro-1');
  const h2 = (h1 + 60) % 360;
  const h3 = (h1 + 120) % 360;
  return [toRGB(h1), toRGB(h2), toRGB(h3)];
}

function drawVibe(){
  const canvas = document.getElementById("vibe");
  const ctx = canvas.getContext("2d");
  const dpr = window.devicePixelRatio || 1;
  // CSS size
  const cssW = canvas.clientWidth || 350;
  const cssH = canvas.clientHeight || 140;
  // set internal pixels for crispness
  canvas.width = Math.round(cssW * dpr);
  canvas.height = Math.round(cssH * dpr);
  ctx.scale(dpr, dpr);

  const cols = emotionColors(document.getElementById("dream").value);
  const grad = ctx.createLinearGradient(0,0,cssW,cssH);
  cols.forEach((c,i)=> grad.addColorStop(i/(cols.length-1), c));
  ctx.fillStyle = grad;
  ctx.fillRect(0,0,cssW,cssH);
}
document.getElementById("dream").addEventListener("input", drawVibe);
drawVibe();
["input","change","blur"].forEach(ev =>
  document.getElementById("dream").addEventListener(ev, drawVibe)
);

// $("#dream").addEventListener("input", drawVibe);

async function fetchMoon(dateStr){
  const r = await fetch(`/api/moonphase${dateStr?`?date=${dateStr}`:''}`);
  return r.json();
}



async function interpret(){
  const btn = $("#go");
  const dream = $("#dream").value.trim();
  if(!dream){ alert("Please enter your dream."); return; }

  btn.disabled = true; btn.textContent = "Interpreting‚Ä¶";

  try {
    const date = $("#date").value || null;
    const sun  = $("#sign").value || null;

    const answers = {
      stressors: $("#stressors").value || "",
      upon_waking: $("#uponwake").value || ""
    };

    // Moon (best-effort; don't fail UI if this errors)
    try {
      const moonResp = await fetch(`/api/moonphase${date?`?date=${date}`:''}`);
      if (moonResp.ok) {
        const moon = await moonResp.json();
        $("#moon").textContent = `${moon.phase_name} ‚Ä¢ ${moon.illumination}% ‚Äî ${moon.influence}`;
      }
    } catch(e){ console.warn("Moon fetch failed", e); }

    const resp = await fetch("/api/interpret", {
      method:"POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify({ dream_text: dream, dream_date: date, sun_sign: sun, answers })
    });

    if (!resp.ok) {
      const text = await resp.text();
      throw new Error(`Request failed ${resp.status}: ${text.slice(0,300)}`);
    }

    const data = await resp.json();
    if (data.error) { throw new Error(data.error); }


  $("#results").classList.remove("hidden");
  $("#followup").textContent = data.agents.followup || "‚Äî";

  const lens = $("#lens").value;
  const labels = { jungian:"Jungian", vedic:"Vedic", astrologer:"Astrologer", surrealist:"Surrealist" };

  $("#resultTitle").textContent = `${labels[lens] ?? "Interpretation"} Interpretation`;
  $("#lensPill").textContent = labels[lens] ?? "‚Äî";
  $("#interp").textContent = data.agents[lens] || "‚Äî";



document.getElementById("results").scrollIntoView({ behavior: "smooth", block: "start" });

  } catch (err) {
    console.error(err);
    alert(`Interpretation failed:\n${err.message}`);
  } finally {
    btn.disabled = false; btn.textContent = "Interpret";
  }
}




async function ritual(){
  const dtype = $("#dtype").value;
  const dream = $("#dream").value;
  const r = await fetch("/api/ritual", {
    method:"POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ dream_type: dtype, dream_text: dream })
  });
  const data = await r.json();
  $("#ritOut").innerHTML = `
    <div><b>Breath:</b> ${data.breath}</div>
    <div><b>Affirmation:</b> ‚Äú${data.affirm}‚Äù</div>
    <div><b>Prompt:</b> ${data.prompt}</div>
  `;
}

$("#go").addEventListener("click", interpret);
// $("#symGo").addEventListener("click", lookupSymbol);
$("#ritGo").addEventListener("click", ritual);

drawVibe();

// Copy
(() => {
  const btn = document.getElementById("copyInterp");
  const target = document.getElementById("interp");
  if (!btn || !target) return;

  btn.addEventListener("click", async () => {
    const text = target.textContent.trim();
    if (!text) { alert("Nothing to copy yet."); return; }

    const setLabel = (s) => { btn.textContent = s; setTimeout(() => btn.textContent = "Copy", 1200); };

    try {
      // Prefer Clipboard API when available + secure context
      if (navigator.clipboard && window.isSecureContext) {
        await navigator.clipboard.writeText(text);
        setLabel("Copied!");
        return;
      }
      // Fallback: hidden textarea + execCommand
      const ta = document.createElement("textarea");
      ta.value = text;
      ta.style.position = "fixed";
      ta.style.opacity = "0";
      document.body.appendChild(ta);
      ta.select();
      document.execCommand("copy");
      ta.remove();
      setLabel("Copied!");
    } catch (e) {
      console.error("Copy failed", e);
      alert("Copy failed ‚Äî try selecting the text and pressing ‚åò/Ctrl+C.");
    }
  });
})();



// Download as .txt
document.getElementById("downloadInterp").addEventListener("click", () => {
  const text = document.getElementById("interp").textContent;
  const blob = new Blob([text], { type: "text/plain" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url; a.download = "oneironet-interpretation.txt";
  document.body.appendChild(a); a.click();
  a.remove(); URL.revokeObjectURL(url);
});
document.getElementById("copyInterp")?.addEventListener("click", async () => { /* ... */ });
document.getElementById("downloadInterp")?.addEventListener("click", () => { /* ... */ });



















document.addEventListener('DOMContentLoaded', () => {
  const hero = document.getElementById('hero');
  if (!hero) return;

  // make sure your static CSS background isn‚Äôt covering the effect
  hero.style.background = 'transparent';

  // dial back the white overlay so the effect isn‚Äôt washed out
  const overlay = hero.querySelector('.bg-gradient-to-b');
  if (overlay) overlay.className = overlay.className.replace('from-white/60','from-white/20').replace('to-white/60','to-white/20');

  // respect reduced motion
  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

  // start Vanta
  if (window.VANTA && VANTA.FOG) {
    VANTA.FOG({
      el: hero,
      highlightColor: 0xbfa8ff,  // lilac
      midtoneColor:   0x8fcaff,  // soft sky
      lowlightColor:  0xacefcf,  // pastel green
      baseColor:      0xf0f6ff,
      blurFactor:     0.6,
      speed:          0.8,
      zoom:           0.9
    });
  } else {
    console.warn('Vanta not ready');
  }
});



</script>
<!-- put these right before </body> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.fog.min.js"></script>
</body>
</html>